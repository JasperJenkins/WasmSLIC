{"version":3,"sources":["index.js"],"names":["image","document","querySelector","context","getContext","segments_input","compactness_input","segments_label","compactness_label","upadate_the_thing","canvas","width","height","drawImage","image_data","getImageData","putImageData","innerText","value","slic","segment_image","Math","pow","complete","onload","onchange"],"mappings":";;;AA+BC,aA/BD,IAAA,EAAA,EAAA,QAAA,wBA+BC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7BD,IAAMA,EAAQC,SAASC,cAAc,OAC/BC,EAAUF,SAASC,cAAc,UAAUE,WAAW,MACtDC,EAAiBJ,SAASC,cAAc,mBACxCI,EAAoBL,SAASC,cAAc,sBAC3CK,EAAiBN,SAASC,cAAc,mBACxCM,EAAoBP,SAASC,cAAc,sBAUjD,SAASO,IACLN,EAAQO,OAAOC,MAAQX,EAAMW,MAC7BR,EAAQO,OAAOE,OAASZ,EAAMY,OAAS,EACvCT,EAAQU,UAAUb,EAAO,EAAG,EAAGA,EAAMW,MAAOX,EAAMY,QAC9CE,IAAAA,EAAaX,EAAQY,aAAa,EAAG,EAAGf,EAAMW,MAAOX,EAAMY,QAC/DT,EAAQa,aAAaF,EAAY,EAAG,GACpCP,EAAeU,UAAY,sBAAwBZ,EAAea,MAClEV,EAAkBS,UAAY,6BAA+BX,EAAkBY,MAC/EJ,EAAaK,EAAKC,QAAAA,eACbf,EAAea,MAChBG,KAAKC,IAAI,IAAKhB,EAAkBY,OAChCJ,GAEJX,EAAQa,aAAaF,EAAY,EAAG,GArBpCd,EAAMuB,SACNd,IAEAT,EAAMwB,OAASf,EAEnBJ,EAAeoB,SAAWhB,EAC1BH,EAAkBmB,SAAWhB","file":"web.fc5a94f0.map","sourceRoot":"../web","sourcesContent":["import slic from \"../crate/Cargo.toml\"\n\nconst image = document.querySelector(\"img\");\nconst context = document.querySelector(\"canvas\").getContext(\"2d\");\nconst segments_input = document.querySelector(\"#segments-input\");\nconst compactness_input = document.querySelector(\"#compactness-input\");\nconst segments_label = document.querySelector(\"#segments-label\");\nconst compactness_label = document.querySelector(\"#compactness-label\");\n\nif (image.complete) {\n    upadate_the_thing();\n} else {\n    image.onload = upadate_the_thing;\n}\nsegments_input.onchange = upadate_the_thing;\ncompactness_input.onchange = upadate_the_thing;\n\nfunction upadate_the_thing() {\n    context.canvas.width = image.width;\n    context.canvas.height = image.height + 4;\n    context.drawImage(image, 0, 0, image.width, image.height);\n    let image_data = context.getImageData(0, 0, image.width, image.height);\n    context.putImageData(image_data, 0, 0);\n    segments_label.innerText = \"Segments (8-2048): \" + segments_input.value;\n    compactness_label.innerText = \"Compactness 10^(0.2-3.0): \" + compactness_input.value;\n    image_data = slic.segment_image(\n        +segments_input.value,\n        Math.pow(10, +compactness_input.value),\n        image_data\n    );\n    context.putImageData(image_data, 0, 0);\n}\n"]}